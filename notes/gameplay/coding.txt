(please commit each paragraph separately for your own sanity)

Bug: abelon changing direction during a pathed walk (when walking in one
direction, he shouldn't be changing dir!). Can reproduce by having him walk
down before the first scene.
Bug: Kath got stuck behind Abelon in his lefally talk because djikstra took him
the wrong way for a moment. This happens other places to, Djikstra sends a unit
backwards
Bug: Kath stops upon reaching Abelon in the opening scene and freezes. This is
the same bug as above - Kath is being pathed into Abelon for some reason instead
of away from him

#55:

exp gain formulas: 1 per damage dealt, 0.5 per damage taken, 1 per damage
mitigated, 1 per damage healed, 1 per stat buff applied, 1 per stat debuff
applied, 10 per special effect applied

level up table: exp required for a level up increases with level

level up (+1 to all attributes, choice of extra attribute +1, +1 skill point)

#16:

Title screen v0 (continue (if save file detected), new game ->
choose difficulty)

Implement game start scene, implement ??? for sprites whose names are not known
to the player. Learning a name is a scene event.

For title screen music, use the voice memo on my phone: Time Slows. Tentative
track name: The Lonely Knight

#15:

Refactor parsing, move to parsing utils file. Files should be parsed
automatically into a dict, like JSON. Key is the word before the colon, key
also has a field giving how data should be parsed.

Save state (rewrite sprite files to savedata, pull from there first if it
exists unless new game). Save and quit returns to title screen.

#28:

Attempt to autosave on game quit. Autosave after every scene, every battle
action, and every map transition. Implement restart chapter, restart battle,
and battle game over.

#48:

Game guide shows up immediately on starting new game, and accessible from
inventory

Combat guide accessible from battle begin menu or options.

#?:

Potential level up issues: you gain more exp on higher difficulties because you
take more damage. Potential exp gain from taking damage in chapter 1 is up to
90 (3 uses of blessed mist) + 3 battles of everyone losing all hp is like 200

Text highlighting for descriptions. Should work like a string formatting
function passed to mkEle. weapon damage is orange, spell damage is purple,
attributes each have their own color, sprite names are colored, numbers are
colored.

Turn limits: every battle should have a turn limit loss condition, to prevent
EXP farming

Try to minimize the amount of text. Replace text with pictures as much as
possible? Come up with icons?

When attacking or assisting, the targets that will be affected should be
rendered, not the tile that the cursor is on.

improve AI algorithm - use other plans! In particular, enemies shouldn't
interfere with each other. If one enemy has only a single path to attack their
target, the acting enemy shouldn't get in the way of that path unless it
needs to in order to attack its own target.

When sprites gain exp, render exp splash.

Ally base stats should be extremely lopsided to start, because they will
even out over time. Kath can have more reaction, less HP, Abelon more HP,
Elaine starts with 0 focus and no spells? Interesting idea. Elaine starts at
level 2, with 3 skills (observe, 1 attack, 1 assist)

When sprites take damage, a damage splash should be rendered. When they heal,
a heal splash should be rendered. While a sprite's action is playing out, what
they're doing should render in the top right. Just the ability name and icons.

For free aim, the cursor can be on any space given by the FREE_AIM field
(intersect a diamond of size "scale" with the targets given by "target").
FREE_AIM moves should render an outline of the move's range

#4:

SFX for:
menu select (not too different from current)
Scene text sound effects
start game (from title screen)

#52:

Every skill has an associated single-fire animation, with render position
determined by the cursor location of the cast. This has nothing to do with the
sprite casting the skill. For some skills, the animation should play at every
affected tile, for others, the animation should play centered on the cursor and
affected by direction. This should be provided as an option.

Insert appropriate hooks for skill animations to play at the right points in
battle (fill in with a universal default).

Skill animations for all basic skills.

#51:

Abelon-idle
Kath-idle

Kath-walk

Abelon-combat
Kath-combat

Abelon-combat-run
Kath-combat-run

Two mostly identical wolf sprites.

Wolf-combat (this doubles as Wolf-idle)
Wolf-walk (this doubles as Wolf-combat-run)

#53:

Each sprite that battles has seven single-fire animations: one for weapon
skills, one for spells, one for assists, one for being injured, one for dying,
one for combat entry (bridges idle -> combat), and one for combat exit (this
can just be the combat entry animation played in reverse). For hostile entities,
their combat entry and exit are just their idle animations, because their idle
animation is their combat animation. Hostile entities also have no assist
animation, and in some cases, no spell animation (e.g. for wolves)

Insert appropriate hooks for combat animations to play at the right points in
battle (fill in with a universal default).

Abelon-combat-entry-exit
Abelon-weapon
Abelon-spell
Abelon-assist
Abelon-hurt
Abelon-death

Kath-combat-entry-exit
Kath-weapon
Kath-spell
Kath-assist
Kath-hurt
Kath-death

Wolf-weapon
Wolf-hurt
Wolf-death

#56:

SFX for:
use weapon skill
use spell
use assist
battle cursor move
battle select ally/enemy
battle select target for move/attack/assist
battle confirm end action
battle enemy turn start
battle ally turn start
level up
all skills

Mute ally turn start, enemy turn start, victory, defeat menus

#57:

Split forest into three maps (west, south, north) with slightly different
tilesets/lighting/coloring

And flowers, logs, plants and such to forest

Redo forest tileset to use 2x2 trees

Fix screen tearing - each map has a background color instead of black that
blends in well with the tiles.

#9:

Expand lighting engine

Add point lights to the forest to test

#?:

Defeat theme: Despair - Short theme that plays during the battle loss scene.

#?:

Enemy approaches theme - for rising action before a fight! This should play for
most of the forest.

#?:

Basic battle theme - for the three non-boss encounters

#?:

Better forest theme - more tense investigation, less funeral march




FUTURE: implement everything!

Finish script - Do this before even looking at the below scenarios! Because
I might decide I want something different as I write the script.
implement Elaine scenario
implement Ghoul scenario (objective is rout or escape)
implement Deer scenario
Implement crystal wolf scenario (objective is rout and defend)
Chapter 1 endcard, end scene teaser
Make executable
